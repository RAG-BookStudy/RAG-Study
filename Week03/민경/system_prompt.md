## 어떤 지침을 넣어야 효과적인가?

### 1. **역할(Role) 정의**

```python
# ⭕
"당신은 10년 경력의 백엔드 개발자입니다. Spring Boot와 JPA에 특화되어 있습니다."

# ❌
"당신은 개발자입니다."

```

### 2. **작업 목표(Task)**

```python
# ⭕
"사용자의 코드를 리뷰하고, 버그와 개선점을 구체적으로 지적하세요."

# ❌
"코드를 봐주세요."

```

### 3. **출력 형식(Format)**

```python
# ⭕
"""
다음 JSON 형식으로만 응답하세요:
{
    "bugs": ["버그1", "버그2"],
    "improvements": ["개선점1"],
    "severity": "high|medium|low"
}
"""

# ❌
"JSON으로 답해주세요."

```

### 4. **제약사항(Constraints)**

```python
# ⭕
"""
반드시 지켜야 할 규칙:
- 코드 예시는 Java로만 작성
- 답변은 200자 이내로 간결하게
- 추측하지 말고, 확실하지 않으면 "모르겠습니다" 표현
"""

# ❌
"간결하게 답해주세요."

```

## 너무 길면 역효과인가?

**Yes!**

| 프롬프트 길이 | 적합한 용도 | 예상 효과 |
| --- | --- | --- |
| **50-200 토큰** | 간단한 작업 | 최적 |
| **200-500 토큰** | 복잡한 작업 | 적절 |
| **500-1000 토큰** | 매우 복잡한 도메인 | 선별적 |
| **1000+ 토큰** | - | 과다 |

**역효과 예시**

**Before**

```python
"""
당신은 Spring Boot 전문가입니다. JPA, Hibernate, JDBC를
깊이 이해하고 있습니다. 데이터베이스는 MySQL, PostgreSQL,
Oracle을 다룰 수 있습니다. 테스트는 JUnit5, Mockito,
MockMvc를 사용합니다. 보안은 Spring Security로 처리하며
JWT, OAuth2를 알고 있습니다. ... (계속)

코드 리뷰 시:
- 네이밍 컨벤션 확인 (카멜케이스, 스네이크케이스...)
- 예외 처리 검증 (try-catch, @ExceptionHandler...)
- 성능 최적화 (N+1 문제, 캐싱, 인덱스...)
... (30개 항목)
"""

```

**After**

```python
"""
당신은 Spring Boot/JPA 전문가입니다.

작업: 코드 리뷰 및 개선 제안

중점 체크 항목:
1. 예외 처리 적절성
2. JPA N+1 문제 여부
3. 트랜잭션 범위

출력: 버그 → 개선점 → 예시 코드 순서로 작성
"""

```

- 사용 토큰 감소
- 모델의 집중도 향상
- 응답 품질 동일하거나 더 좋음

### **그럼 언제 길게 써야 하나?**

1. **복잡한 도메인 용어 정의가 필요할 때**
    
    ```python
    """
    용어 정의:
    - "마사학": 학생들의 스터디 활동을 관리하는 앱
    - "스터디룸": 여러 학생이 함께 공부하는 가상 공간
    - "타이머 세션": 25분 집중 + 5분 휴식 사이클
    """
    
    ```
    
2. **구체적인 예시가 필수적일 때** (Few-shot 포함)
3. **법률/의료처럼 정확성이 생명인 분야**

## 역할(Role) 설정은 언제 중요한가?

**⇒ 상황에 따라 다르다.**

### **역할이 중요한 경우**

```python
# 시나리오 1: 전문 지식 필요
"당신은 시니어 백엔드 개발자입니다"
→ 코드 리뷰가 더 구체적이고 실무적

"당신은 DB 설계 전문가입니다"
→ 정규화, 인덱싱 등 깊이 있는 조언

# 시나리오 2: 톤앤매너 설정
"당신은 친절한 여행 친구입니다"
→ 격식 없고 편안한 대화체

"당신은 전문 컨설턴트입니다"
→ 분석적이고 논리적인 어조

```

**실제 테스트: 환율 시스템 코드 리뷰**

```python
# 역할 없음
prompt = "이 코드의 문제점을 알려줘"
# "한 줄 결론
#   이 코드는 “돌아가는 환율 서비스”지, “믿을 수 있는 환율 서비스”는 아닙니다."
# 리팩토링 할래?

# 역할 있음
prompt = """
당신은 10년 차 백엔드 개발자이며,
코드 리뷰어로 활동 중입니다.
이 코드의 문제점을 알려줘
"""
# 총평 (냉정하게)
# 중소 프로젝트 기준: “잘 짜여진 코드”
# 운영 서비스 기준: “지금은 괜찮지만 사고 난다”
# (치몀적인 문제)
# 원하시면 다음 단계로
# 👉 “이 코드를 아키텍처 레벨에서 어떻게 나눌지”
# 👉 “환율 도메인 모델을 제대로 잡는 방법”
# 👉 “테스트 전략(특히 날짜/환율)”
# 바로 이어서 까드리겠습니다.
```


### **역할이 덜 중요한 경우**

```python
# 1. 단순 작업
"다음 텍스트를 영어로 번역해줘"
→ 역할 없어도 충분

# 2. 명확한 입출력
"JSON을 파싱해서 이름만 추출해줘"
→ 작업이 명확하면 역할 불필요
```

---

### 프롬프트 작성 후 체크리스트보면 좋을 것들

- [ ]  역할이 명확한가? (전문성 표현)
- [ ]  작업 목표가 구체적인가?
- [ ]  출력 형식을 지정했는가?
- [ ]  불필요한 설명을 제거했는가?
- [ ]  300토큰 이내인가? (복잡한 경우 500)
- [ ]  실제로 테스트해봤는가?

